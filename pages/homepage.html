<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home | AIS-China</title>
    <!--    <link rel="stylesheet" href="styles.css">-->


</head>

<style>
    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        /*overflow: hidden;*/
        scroll-behavior: smooth;
    }

    .comic-container {
        scroll-snap-type: y mandatory;
        overflow-y: scroll;
        height: 100vh;
        scroll-behavior: smooth;
    }

    .comic-page {
        position: relative;
        /*width: 100vw;*/
        height: 100vh;
        scroll-snap-align: center;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        background-color: rgb(251, 244, 231);
        overflow: hidden;
        /*border: #4CAF50 solid 5px;*/
    }

    .comic-content {
        position: relative;
        max-width: 100vw;
        max-height: 100vh;
        aspect-ratio: 1440/754;
        box-sizing: content-box;
        object-fit: contain;
        /*width: 1440px;*/
        /*height: 754px;*/
        display: flex;
        justify-content: center;
        align-items: center;
        /*background-color: sienna;*/
        /*border: chocolate solid 5px;*/
        font-size: min(2.5vw, 5.18vh);
    }

    .comic-content img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        display: block;
        /*border: blue solid 5px;*/
    }

    .text-box {
        position: absolute;
        /*padding: 10px;*/
        color: rgb(15, 15, 108);
        /*font-size: min(2.5vw, 5.18vh);*/
        font-weight: bold;
        text-align: left;
        line-height: 1.2;
        /*border: #c9f2fd solid 5px;*/
        overflow: visible;
        text-wrap: nowrap;
    }

    .text-box-interactive {
        transition: 0.3s;
    }

    .text-box-interactive:hover {
        font-size: 1.0em !important;
    }

    .page5person {
        position: absolute;
        left: 5%;
        bottom: 15%;
        width: 8em !important;
        height: 8em !important;
        z-index: 5;
        opacity: 0;
        transition: opacity 0.3s;
    }

    .opac1 {
        opacity: 1;
    }

    .phone-container {
        scroll-snap-type: x mandatory;
        overflow-x: scroll;
        width: 68.3%;
        height: 65%;
        scroll-behavior: smooth;
        /* border: black solid 5px; */
        position: absolute;
        top: 18%;
        left: 20.9%;
        border-radius: 1em;
        display: flex;
        flex-direction: row;
        font-size: 0.8em;
    }

    .phone-screen {
        position: relative;
        height: 100%;
        width: 100%; /* Ensure each screen takes up the full width of the container */
        flex: 0 0 100%; /* Ensure only one screen is visible at a time */
        scroll-snap-align: center;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: white;
        overflow: hidden;
    }

    .phone-screen img {
        width: 100%;
        height: auto;
        object-fit: contain;
    }


    @media (max-width: 576px) {
        .warning {
            display: flex !important;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
    }

</style>
<body>
<div class="warning"
     style="background: white; height: 100%; width: 100%; display: none; font-size: 3em;">
    PLEASE Rotate Your Phone Screen 90deg For better experience~<br><br>
    <div id="warning" style="border: black solid 1px">Continue>>><br></div>
</div>
<div class="comic-container">
        <div class="comic-page">
            <div class="comic-content">
                <img src="https://static.igem.wiki/teams/5186/homepage/home-0.png" alt="Page 0">
            </div>
        </div>
        <div class="comic-page">
            <div class="comic-content">
                <img src="https://static.igem.wiki/teams/5186/homepage/home-1.png" alt="Page 1">
                <div class="text-box" style="left: 53%; top: 40%;">You may think that<br>
                    mosquitoes are annoying,<br>
                    disturbing your sleep and daily life.
                </div>
            </div>
        </div>
        <div class="comic-page">
            <div class="comic-content">
                <img src="https://static.igem.wiki/teams/5186/homepage/home-2.png" alt="Page 2">
                <div class="text-box" style="text-align: right; right: 37%; top: 24%">
                    But<br>
                    mosquitoes are also the vectors for pathogens<br>
                    such as Plasmodium, which causes malaria<br>
                    and the Dengue virus, leading to dengue fever
                </div>
            </div>
        </div>
        <div class="comic-page">
            <div class="comic-content">
                <img src="https://static.igem.wiki/teams/5186/homepage/home-3.png" alt="Page 3">
                <div class="text-box" style="text-align: center; top: 75%;">
                    About <span style="color: red">725000</span> people lose their lives annually to mosquito-borne
                    diseases,<br>
                    establishing mosquitoes as <span style="color: red">No. 1</span> assassin to humans.
                </div>
            </div>
        </div>
    <div class="comic-page">
        <div class="comic-content">
            <img src="https://static.igem.wiki/teams/5186/homepage/home-4.png" alt="Page 4">
            <div class="text-box" style="top: 8%; font-size: 1.3em;">&nbsp;In the battle against mosquitoes</div>
            <div class="text-box text-box-interactive"
                 style="text-align: right; right: 56%; font-size: 0.9em; line-height: 1.6; padding-right: 20%">
                You may use<br>
                <span style="color: mediumpurple">physical devices</span><br>
                such as<br>
                electric mosquito<br>
                swatters<br>
                <span style="font-size: 4em; line-height: 0.8;">but</span><br>
                the effectiveness<br>
                isn't high.<br>
            </div>
            <div class="text-box text-box-interactive"
                 style="text-align: left; left: 52%; font-size: 0.9em; line-height: 1.6; padding-left: 25%;">
                You may use<br>
                <span style="color: limegreen">chemical pesticides</span><br>
                <span style="font-size: 4em; line-height: 0.8;">but</span><br>
                it can harm<br>
                your own<br>
                and<br>
                your pets' health.
            </div>
        </div>
    </div>
    <div class="comic-page">
        <div class="comic-content">
            <img src="https://static.igem.wiki/teams/5186/homepage/home-5-0.png" alt="Page 5 Border">
            <img class="page5person opac1" src="https://static.igem.wiki/teams/5186/homepage/home-5-0-1.png"
                 alt="Page 5 Person 1" id="page5person1">
            <img class="page5person" src="https://static.igem.wiki/teams/5186/homepage/home-5-0-2.png"
                 alt="Page 5 Person 2" id="page5person2">
            <img class="page5person" src="https://static.igem.wiki/teams/5186/homepage/home-5-0-3.png"
                 alt="Page 5 Person 3" id="page5person3">

            <div class="phone-container">
                <div class="phone-screen">
                    <img src="https://static.igem.wiki/teams/5186/homepage/home-5-1.png" alt="Page 5 Screen 1">
                    <div class="text-box" style="left: 55%">
                        Come and learn<br>
                        about our Moskilla,<br>
                        a gift from engineered<br>
                        E. coli and S. cerevisiae<br>
                        making blood-feeding<br>
                        mosquitoes unable to<br>
                        escape!
                    </div>
                </div>
                <div class="phone-screen">
                    <img src="https://static.igem.wiki/teams/5186/homepage/home-5-2.png" alt="Page 5 Screen 2">
                    <div class="text-box" style="left: 57%">
                        In Moskilla,<br>
                        HMBPP,<br>
                        a key matabolite of<br>
                        malaria pathogen<br>
                        Plasmodium, is<br>
                        utilised to attract<br>
                        blood-feeding mosquitoes.
                    </div>
                </div>
                <div class="phone-screen">
                    <img src="https://static.igem.wiki/teams/5186/homepage/home-5-3.png" alt="Page 5 Screen 3">
                    <div class="text-box" style="left: 6%; top: 16%;">
                        Meanwhile,<br>
                        mosquitocide shRNAs<br>
                        that only target mosquitoes<br>
                        are waiting for them<br>
                        to feast on.
                    </div>
                </div>
            </div>
        </div>
    </div>
        <div class="comic-page">
            <div class="comic-content">
                <img src="https://static.igem.wiki/teams/5186/homepage/home-8.png" alt="Page 6">
                <div class="text-box" style="text-align: center; left: 6%; font-size: 2.5em; transform: translateY(-2%)">
                    Embrace<br>
                    our<br>
                    Moskilla!
                </div>
            </div>
        </div>
        <style>
            .text-box-fire {
                background-color: red;
                background-image: url("https://static.igem.wiki/teams/5186/homepage/fire-background.png");
                background-repeat: repeat;
                background-position: center;
                background-size: 135%;
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                text-align: center;
                /* text-transform: uppercase; */
                /* -webkit-font-smoothing: antialiased; */
                transform: rotateZ(-53deg);
                left: 15%;
            }
        </style>
        <div class="comic-page">
            <div class="comic-content">
                <img src="https://static.igem.wiki/teams/5186/homepage/home-9.png" alt="Page 7">
                <div class="text-box text-box-fire">
                    <span style="font-size: 2.7em;margin-right: 1em;">Undoubtedly,</span><br>
                    <span style="font-size: 2em">we will</span><br>
                    <span style="font-size: 1.5em;margin-left: 1.5em;line-height: 1.5;">triumph over mosquitoes!</span>
                </div>
            </div>
        </div>
        <div class="comic-page">
            <div class="comic-content">
                <img src="https://static.igem.wiki/teams/5186/homepage/home-10.png" alt="Page 8">
                <div class="text-box" style="left: 64%">
                    Our aspiration is to<br>
                    be your guardian,<br>
                    crafting a world free<br>
                    of mosquitoes for<br>
                    your peace and well-being.
                </div>
            </div>
        </div>
</div>
<div class="links">

</div>
</body>
<script>

    document.getElementById('warning').addEventListener('click', function () {
        window.scrollTo(0, 999999);
    });

    document.addEventListener('DOMContentLoaded', function () {
        const container = document.querySelector('.comic-container');
        const pageHeight = window.innerHeight;
        const phoneContainer = document.querySelector('.phone-container');
        const page5person1 = document.getElementById('page5person1');
        const page5person2 = document.getElementById('page5person2');
        const page5person3 = document.getElementById('page5person3');


        let isInView = false;
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    isInView = true;
                    console.log("isInView")
                } else {
                    isInView = false;
                }
            });
        }, {threshold: 1});
        observer.observe(phoneContainer);

        document.addEventListener('keydown', function (event) {
            const currentScroll = container.scrollTop; // Update scroll position dynamically
            const currentPhoneScroll = phoneContainer.scrollLeft; // Use scrollLeft for horizontal scrolling
            if (event.key === 'ArrowDown') {
                // Scroll to the next page
                container.scrollTo({
                    top: currentScroll + pageHeight,
                    behavior: 'smooth'
                });
            } else if (event.key === 'ArrowUp') {
                // Scroll to the previous page
                container.scrollTo({
                    top: currentScroll - pageHeight,
                    behavior: 'smooth'
                });
            }
            if (isInView) {
                if (event.key === 'ArrowRight') {
                    phoneContainer.scrollBy({left: phoneContainer.clientWidth, behavior: 'smooth'});
                }
                if (event.key === 'ArrowLeft') {
                    phoneContainer.scrollBy({left: -phoneContainer.clientWidth, behavior: 'smooth'});
                }
            }
        });

        phoneContainer.addEventListener('scroll', () => {
            const scrollPosition = phoneContainer.scrollLeft;
            const screenWidth = phoneContainer.clientWidth;

            if (scrollPosition >= 0 && scrollPosition < 0.8 * screenWidth) {
                // First screen is in view
                if (!page5person1.classList.contains("opac1")) {
                    console.log("1");
                    page5person1.classList.add("opac1")
                    page5person2.classList.remove("opac1")
                    page5person3.classList.remove("opac1")
                }
            } else if (scrollPosition >= 0.8 * screenWidth && scrollPosition < 1.8 * screenWidth) {
                // Second screen is in view
                if (!page5person2.classList.contains("opac1")) {
                    console.log("2");
                    page5person1.classList.remove("opac1")
                    page5person2.classList.add("opac1")
                    page5person3.classList.remove("opac1")
                }
            } else if (scrollPosition >= 1.8 * screenWidth && scrollPosition < 3 * screenWidth) {
                // Third screen is in view
                if (!page5person3.classList.contains("opac1")) {
                    console.log("3");
                    page5person1.classList.remove("opac1")
                    page5person2.classList.remove("opac1")
                    page5person3.classList.add("opac1")
                }
            }
        });
    });

</script>

</html>
